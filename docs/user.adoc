:major-index: 2
:minor-index: 0

== {major-index}. User
:minor-index: 1
=== {major-index}.{minor-index}. Verification Request
*POST /user/verify/request* +

회원가입을 위한 전화번호 인증 +
문자메세지로 인증메세지가 전달됩니다

==== {major-index}.{minor-index}.1. Specifications
===== Request
====== Body
include::{definitionsDir}user/verifyRequestReqDTO.adoc[]

===== Response
====== Body

==== {major-index}.{minor-index}.2. Example
[source]
----
include::{examplesDir}user/verifyRequest-request.adoc[]
----

[source]
----
include::{examplesDir}user/verifyRequest-response.adoc[]
----

:minor-index: 2
=== {major-index}.{minor-index}. Verification Check
*POST /user/verify/check* +

/user/verify/request 이후 3분의 기간 내에 해당 휴대번호의 인증번호가 정확하고 유효한지 확인 +
5번의 실패 이후, 인증번호는 더이상 유효하지 않게 됨

==== {major-index}.{minor-index}.1. Specifications
===== Request
====== Body
include::{definitionsDir}user/verifyCheckReqDTO.adoc[]

===== Response
====== Body
include::{definitionsDir}user/verifyCheckResDTO.adoc[]

==== {major-index}.{minor-index}.2. Example
[source]
----
include::{examplesDir}user/verifyCheck-request.adoc[]
----

[source]
----
include::{examplesDir}user/verifyCheck-response.adoc[]
----

:minor-index: 3
=== {major-index}.{minor-index}. Enroll
*POST /user/enroll* +

회원가입 이전에 /user/verify/request를 통해 인증번호를 받아와야함 +
단, /user/verify/check 는 진행하지 않아도 됨 +
/user/verify/check 가 가능한 유효기간은 3분이지만, +
/user/verify/check 이후의 유예기간을 두기 위해, enroll를 위한 인증번호 유효기간은 30분으로 설정됨 +

paperId 와 phoneNumber는 각각 중복이 불가능함

==== {major-index}.{minor-index}.1. Specifications
===== Request
====== Body
include::{definitionsDir}user/verifyRequestReqDTO.adoc[]

===== Response
====== Cookie
|===
|Name |Type |Description

|Paper-Refresh-Token |String |리프레쉬토큰 발급
|===

====== Body
include::{definitionsDir}user/enrollResDTO.adoc[]

==== {major-index}.{minor-index}.2. Example
[source]
----
include::{examplesDir}user/enroll-request.adoc[]
----

[source]
----
include::{examplesDir}user/enroll-response.adoc[]
----

==== {major-index}.{minor-index}.3. Exceptions
include::{definitionsDir}verification/phoneNumberSecretWrongDTO.adoc[]